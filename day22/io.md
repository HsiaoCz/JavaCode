## java IO

什么是流:

流（Stream），是一个抽象的概念，是指一连串的数据（字符或字节），是以先进先出的方式发送信息的通道。

当程序需要读取数据的时候，就会开启一个通向数据源的流，这个数据源可以是文件，内存，或是网络连接。类似的，当程序需要写入数据的时候，就会开启一个通向目的地的流。这时候你就可以想象数据好像在这其中“流”动一样。

流有以下几个特性:

- 先进先出：最先写入输出流的数据最先被输入流读取到。
- 顺序存取：可以一个接一个地往流中写入一串字节，读出时也将按写入顺序读取一串字节，不能随机访问中间的数据。（RandomAccessFile 除外）
- 只读或只写：每个流只能是输入流或输出流的一种，不能同时具备两个功能，输入流只能进行读操作，对输出流只能进行写操作。在一个数据传输通道中，如果既要写入数据，又要读取数据，则要分别提供两个流。

IO 类虽然很多：但核心的就是 4 个抽象类：InputStream、OutputStream、Reader、Writer。

虽然 IO 类的方法也有很多，但是核心的也就只有 2 个:read 和 write

InputStream 类

- int read():读取数据
- int read(byte b[],int off,int len):从第 off 位置开始读，读取 len 长度的字节，然后放入数组 b 中
- long skip(long n):跳过指定个数的字节
- int available():返回可读的字节数
- void close():关闭流，释放资源

OutputStream 类

- void write(int b):写入一个字节，虽然参数是一个 int 类型，但是只有低 8 位才会写入，高 24 位会舍弃
- void write(byte b[],int off,int len): 将数组 b 中的从 off 位置开始，长度为 len 的字节写入
- void flush():强制刷新，将缓冲区的数据写入
- void close():关闭流

Reader 类

- int read():读取单个字符
- int read(char cbuf[],int off,int len):从第 off 位置开始读，读取 len 长度的字符，然后放入数组 b 中
- long skip(long n)：跳过指定个数的字符
- int ready()：是否可以读了
- void close()：关闭流，释放资源

Writer 类

- void write(int c):写入一个字符
- void write( char cbuf[], int off, int len)： 将数组 cbuf 中的从 off 位置开始，长度为 len 的字符写入
- void flush()： 强制刷新，将缓冲区的数据写入
- void close()：关闭流

字节流和字符流的区别:

- 字节流一般用来处理图像、视频、音频、PPT、Word 等类型的文件。字符流一般用于处理纯文本类型的文件，如 TXT 文件等，但不能处理图像视频等非文本文件。用一句话说就是：字节流可以处理一切文件，而字符流只能处理纯文本文件

- 字节流本身没有缓冲区，缓冲字节流相对于字节流，效率提升非常高。而字符流本身就带有缓冲区，缓冲字符流相对于字符流效率提升就不是那么大了

### 1、文件

文件流也就是直接操作文件的流，可以细分为字节流(FileInputStream 和 FileOutputStream)和字符流(FileReader 和 FileWriter)

### 2、数组流

对文件的读写操作，使用文件流配合缓冲流就够用了，但为了提升效率，频繁地读写文件并不是太好，那么就出现了数组流，有时候也称为内存流

数组流可以用于在内存中读写数据，比如将数据存储在字节数组中进行压缩、加密、序列化等操作。它的优点是不需要创建临时文件，可以提高程序的效率。但是，数组流也有缺点，它只能存储有限的数据量，如果存储的数据量过大，会导致内存溢出
